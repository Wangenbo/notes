## 简述系统架构-小白入门

### 认识系统架构
任何技术都是为解决问题而存在的，系统架构也不例外。

#### 复杂系统中，各个系统如何配合
1. 高并发、高负载、海量数据
2. 系统扩展性、弹性
3. 高可用性
4. 业务扩展能力
5. 安全性、灾难恢复

#### 架构设计哪些方面
1. 硬件
2. 前端（Web/APP/微信等）
3. 前端服务器、中间层、API服务器等
4. 后端（缓存、后端服务等）
5. 数据挖掘（离线计算、实时计算）
6. 用具存储（数据库、文件服务器）

#### 什么是“完美”的架构设计
没有完美的“架构设计”
适应现在和未来一段时间业务发展的架构才是好的架构

#### 举例微信红包

##### 架构重点
1. 高可用性要求：有损服务降低负载
2. 系统服务自动降级：不同请求频率对应不同服务
3. 最短可用路径：流程设计上保证一些环节可以被选择性跳过

- 前端埋点：友好的错误提示、自动重试、降低发送频率
- 前端主机： 负载均衡、缓存请求、分发请求
- 微信、微信支付系统隔离
- 订单与预订单分离

#### 举例美团推荐系统
根据用户的平路、转发等行为、快速进行推荐服务

##### 架构重点
1. 采集数据和消息速度可以不一致，避免峰值波动
2. 实时计算故障率较高，通过持久存储隔离问题
3. 复杂的系统挖掘工作和快速反应的区分对待

- 数据源：美团web、美团APP、QQ、微信
- 数据采集：web agent
- 消息集群 flume+cmq
- 实时计算集群：ZooKeeper
- 离线计算集群： Hadoop
- 持久存储：MySQL

