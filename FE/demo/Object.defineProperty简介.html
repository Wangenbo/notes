<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Object.defineProperty简介</title>
</head>
<body>

</body>
<script>
    //简单应用
    var obj = {};
    obj.name = 'hunger';
    obj['age'] = 3;
    Object.defineProperty(obj, 'intro', {
        value: 'hello world'
    });
    delete obj.name;
    console.log(obj);

    // 高级应用
    var obj1 = {};
    Object.defineProperty(obj1, 'intro', {
        configurable: false,
        value: 'hello world'
    });

    obj1.intro = 'hello';
    delete obj1.intro;
    console.log(obj1.intro);

    //
    var obj2 = {name: 'zhangsan'};
    Object.defineProperty(obj2, 'age', {
        value: 3,
        enumerable: false
    });

    for(var key in obj2) {
        console.log('obj2', key); //name
    }

    //
    var obj3 = {name: 'lisi'};
    Object.defineProperty(obj3, 'age', {
        value: 3,
        writable: false
    })

    obj3.age = 4;

    console.log(obj3.age); //3

    //
    var obj4 = {};
    var age;

    Object.defineProperty(obj4, 'age', {
        get: function() {
            console.log('get age');
            return age;
        },
        set: function(val) {
            console.log('set age');
            age = val;
        }
    })

    obj4.age = 100; // set age

    console.log(obj4.age); //get age


</script>
</html>